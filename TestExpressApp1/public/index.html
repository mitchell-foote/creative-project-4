<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js"></script>
    <script src="javascripts/app.js"></script>

    <title>Carmen Sandiego</title>
	<meta charset="utf-8" />
    <!--<style>
         /*/* Always set the map height explicitly to define the size of the div
        * element that contains the map. */
         #map {
             height: 100%;
         }
         /* Optional: Makes the sample page fill the window. */
         html, body {
             height: 100%;
             margin: 0;
             padding: 0;
         }
    </style>-->

    <link href="stylesheets/bootstrap.min.css" rel="stylesheet" />
</head>

<body id="app" ng-app="app" ng-controller="mainCtrl">
    <div class="navbar navbar-default">
        <div class="navbar-text">Where in the World is Carmen Sandiego?</div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>Current Location: <span ng-model="CurrentLocation" id="location"></span></h3>
                <div id="map" style="height:300px"></div>
            </div>
            <div class="col-sm-6">
                <div class="col-sm-12">
                    <h3>Carmen's Clue</h3>
                    <div class="well well-sm form-group">
                        <input type="text" ng-model="CarmenClue" disabled value="Carmen Clue" id="carmen-clue" class="form-control" />
                    </div>
                    <h3>Where do you travel?</h3>

                    <div class="well well-sm form-group">
                        <input type="text" ng-model="CityGuess" class="form-control" id="travel-location" />
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="btn-group-justified btn-group-lg">
                        <div onclick="changeQuards()" class="btn btn-primary">Travel</div>
                    </div>
                </div>
                <div class="col-sm-5 col-sm-offset-2">
                    <div class="btn-group-justified btn-group-lg">
                        <div ng-click="GetQuess()" class="btn btn-primary">Search Location</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <h3>Messages</h3>
                <div class="well well-lg">
                    <textarea disabled class="form-control text-center" ng-model="CarmenComment"></textarea>
                </div>
            </div>
        </div>
        
        
    </div>
    
    <script type="text/javascript">
        var map;
        var geocoder;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: -34.397, lng: 150.644},
          zoom: 8
        });
        geocoder = new google.maps.Geocoder();
      }
      function changeQuards() {
          var cityLocation = document.getElementById('travel-location').value;
          geocoder.geocode({ 'address': cityLocation }, function (results, status) {
              if (status == 'OK') {
                  map.panTo(results[0].geometry.location);
                  var marker = new google.maps.Marker({
                      map: map,
                      position: results[0].geometry.location
                  });
                  var current = document.getElementById("travel-location").value;
                  debugger;
                  document.getElementById("location").innerHTML = current;
              } else {
                  alert('We were unable to find that location: ' + status);
              }
          });
      }
    </script>

    <script src="javascripts/jquery-1.9.1.min.js"></script>
    <script src="javascripts/bootstrap.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB5Jhu5syFPPbOsz3qNuGN7NkBI0FtXILE&callback=initMap"
            async defer></script>
</body>
</html>
